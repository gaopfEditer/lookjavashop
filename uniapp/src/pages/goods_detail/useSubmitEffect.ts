import { shoppingCartAdd } from '@/api/goods'import { objectToQuery } from '@/utils/util'const { getShopCartCount } = useUserStore()import router from '@/router'import {useUserStore} from "@/stores/user";export const useSubmitEffect = () => {    // 加入购物车    const cartHandle = async ({ spec }: any) => {        try {            await shoppingCartAdd({                goodsSkuId: spec.id,                num: spec.number            })            uni.$u.toast('加入购物车成功')            await getShopCartCount()        } catch (error) {            console.log('添加购物车', error)        }    }    // 处理普通购买    const buyHandle = async ({ spec }: any, goodsId: number) => {        const buyGoods = [{            goodsId: goodsId,            skuId: spec.id,            num: spec.number,            cartId: 0        }]        router.navigateTo({            path: '/pages/goods_order/goods_order',            query: {                buyGoods: JSON.stringify(buyGoods),                buyType: 'buyNow'            }        })    }    // 秒杀抢购    const buyNowHandle = async ({ spec }: any, goodsId: number, seckillId: number) => {        const buyGoods = [{            goodsId: goodsId,            skuId: spec.id,            num: spec.number,            cartId: 0,            seckillId: seckillId        }]        router.navigateTo({            path: '/pages/goods_order/goods_order',            query: {                buyGoods: JSON.stringify(buyGoods),                buyType: 'buyNow'            }        })    }    return {        cartHandle,        buyHandle,        buyNowHandle    }}