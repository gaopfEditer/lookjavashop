<template>    <el-card class="!border-none mt-4" shadow="never">        <template #header>            <span class="font-medium text-xl">基础信息</span>        </template>        <el-form-item label="优惠券名称" prop="name">            <div class="w-80">                <el-input                    v-model="formData.name"                    placeholder="请输入优惠券名称"                    type="text"                    :disabled="disabled == 'detail'"                    :show-word-limit="true"                    :clearable="true"                />            </div>        </el-form-item>        <el-form-item label="发放数量" prop="sendTotalType">            <div class="w-90">                <div>                    <el-input                        class="w-[220px]"                        v-model="formData.sendTotal"                        placeholder="请输入发放数量"                        type="text"                        :disabled="formData.sendTotalType == 1 || disabled == 'detail'"                        :show-word-limit="true"                        :clearable="true"                    />                    <el-checkbox                        class="ml-4"                        v-model="formData.sendTotalType"                        label="不限数量"                        :disabled="disabled == 'detail'"                        :true-label="1"                        :false-label="2"                    />                </div>                <div class="form-tips">                    编辑进行中的优惠券，发放总量只能增加不能减少，请谨慎设置。最多1000000张                </div>            </div>        </el-form-item>        <el-form-item label="使用范围" prop="useGoodsType">            <div class="w-full">                <el-radio-group v-model="formData.useGoodsType" :disabled="disabled">                    <el-radio :label="1">全场通用</el-radio>                    <el-radio :label="2">指定商品可用</el-radio>                    <el-radio :label="3">指定商品不可用</el-radio>                </el-radio-group>                <template v-if="formData.useGoodsType != 1">                    <Goods v-model="formData.useGoodsList" :disabled="disabled"></Goods>                </template>                <div class="form-tips">                    用户领取：指用户自行领取；系统赠送：指通过后台给某个用户发放                </div>            </div>        </el-form-item>        <el-form-item label="使用门槛" prop="conditionType">            <div>                <div>                    <el-radio-group v-model="formData.conditionType" :disabled="disabled">                        <el-radio :label="1">无门槛</el-radio>                    </el-radio-group>                </div>                <div class="mt-4">                    <el-radio-group v-model="formData.conditionType" :disabled="disabled">                        <el-radio :label="2">订单满</el-radio>                    </el-radio-group>                    <el-input                        class="w-[180px] ml-4"                        v-model="formData.conditionMoney"                        placeholder="请输入价格"                        type="text"                        :disabled="disabled"                        :show-word-limit="true"                        :clearable="true"                    >                    </el-input>                    <span class="ml-4">元可用</span>                </div>            </div>        </el-form-item>        <el-form-item label="优惠券金额" prop="money">            <div class="w-80">                <div>                    <el-input                        class="w-[280px]"                        v-model="formData.money"                        placeholder="请输入"                        type="text"                        :disabled="disabled"                        :show-word-limit="true"                        :clearable="true"                    />                    <span class="ml-4">元</span>                </div>                <div class="form-tips">                    面额需大于0元，支持两位小数                </div>            </div>        </el-form-item>    </el-card></template><script lang="ts" setup>import { useVModels } from '@vueuse/core'import Goods from './goods.vue'const props = withDefaults(    defineProps<{        modelValue?: any        disabled: boolean    }>(),    {        modelValue: {},        disabled: false    })const emit = defineEmits(['update:modelValue'])const { modelValue: formData } = useVModels(props, emit)// 获取到秒杀商品参数watchEffect(() => {    const value = formData.value.useGoodsList    console.log(value, '//')    try {        if ( !value.length ) {            formData.value.useGoodsList = []            formData.value.useGoodsIds = []            console.log('??')            return '已清空商品'        }        const goodsIds = value.map((item:any) => item.id)        formData.value.useGoodsIds = goodsIds.toString()    }catch (error) {        console.log(error)    }})</script>