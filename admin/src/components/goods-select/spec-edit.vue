<template>    <popup        ref="popupRef"        :title="`选择${extend.name}商品`"        :async="false"        width="880px"        @confirm="emit('update:modelValue', selectData)"        @open="open"    >        <template #trigger>            <slot></slot>        </template>        <!-- 批量设置 -->        <div>            <popover-input                class="mr-2 mb-4"                :disabled="disabled"                @confirm="batchSetting($event, extend.priceType)"            >                <el-button :disabled="disabled">批量设置{{ extend.name }}价</el-button>            </popover-input>        </div>        <!-- 表格 -->        <el-table            ref="tableRef"            size="large"            :data="selectData"            height="420px"            @selection-change="handleSelectionChange"        >            <el-table-column type="selection" width="55" />            <el-table-column label="规格名" prop="skuValueArr" min-width="100"/>            <el-table-column label="价格" prop="price" min-width="100">                <template #default="{ row }">                    ¥{{ row.price }}                </template>            </el-table-column>            <el-table-column label="库存" prop="stock" min-width="100"/>            <el-table-column :label="extend.name+'价'" prop="price" min-width="100">                <template #default="{ row }">                    <el-input                        type="number"                        placeholder="请输入"                        :disabled="disabled"                        v-model="row[extend.priceType]"                    />                </template>            </el-table-column>        </el-table>    </popup></template><script lang="ts" setup>import {useVModels} from '@vueuse/core';import {withDefaults} from "vue";import { ElTable } from 'element-plus'const props = withDefaults(    defineProps<{        modelValue?: any        disabled: boolean        extend: any    }>(),    {        modelValue: [],        // 是否禁用        disabled: false,        // 拓展        extend: {            name: '',            priceType: 'price'        }    })const emit = defineEmits(['update:modelValue']);const { modelValue: selectData } = useVModels(props, emit);const multipleSelection = ref<any[]>([])const handleSelectionChange = (value: any[]) => {    multipleSelection.value = value.map((item) => item.id)}const batchSetting = (value: string, fields: string | never) => {    selectData.value.forEach((item: any) => {        if (multipleSelection.value.includes(item.id)) {            item[fields] = value        }    })}</script>